(window.webpackJsonpspect_internships=window.webpackJsonpspect_internships||[]).push([[0],{159:function(e,t){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),s=a.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(10),o=a(24),c=a(72),m=a.n(c),u=(a(88),a(5));var d=Object(u.b)((function(e){return{auth:e.auth}}))((function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"}),r.a.createElement("h1",null,"Welcome to Spect Internships"),r.a.createElement("p",null,"This is a place where students can come to find meaningful Internships to enhance their resume while businesses can find the best applicants for their job."),r.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"})))})),p=function(){return"Page not found"},h=a(11),g=a(12),f=a(14),E=a(13),b=a(15),v=(a(93),a(4)),y=function(e){function t(e){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).call(this,e))}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.setState({time:Date.now()})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props.location.pathname,t=this.props.auth.user,a="",n="";Object(u.b)(k);var i="";if("/logout/success"==e)return"";if(this.props.auth.user){if(!t.profile&&t.business&&"/businessProfile/add"!=e)return v.b.error("Please complete your profile first."),r.a.createElement(o.a,{to:"/businessProfile/add"});if(!t.profile&&!t.business&&"/studentProfile/add"!=e)return v.b.error("Please complete your profile first."),r.a.createElement(o.a,{to:"/studentProfile/add"})}return this.props.auth.isAuthenticated&&this.props.auth.user?this.props.auth.user.business?n=r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/listing/add"},"Add")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/listing"},"View")),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Profiles"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement("a",{className:"dropdown-item",href:"/studentProfile/edit/5dc8ce69d5d81243d0441210"},"Edit Student Profile"),r.a.createElement("a",{className:"dropdown-item",href:"/businessProfile/edit/5dc8d230ec1fc933e494ca6b"},"Edit Business Profile"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Something else here")))),r.a.createElement("li",{className:"nav-item dropdown navbar navbar-right"},r.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fa fa-user"})," ",this.props.auth.user.email),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement("a",{className:"dropdown-item",href:"/businessProfile/edit/"+this.props.auth.user.profile},"Business Profile"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("a",{className:"dropdown-item",href:"/logout"},"Sign Out")))):a=r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/listing/add"},"Add")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/listing"},"View")),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Profiles"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement("a",{className:"dropdown-item",href:"/studentProfile/edit/5dc8ce69d5d81243d0441210"},"Edit Student Profile"),r.a.createElement("a",{className:"dropdown-item",href:"/businessProfile/edit/5dc8d230ec1fc933e494ca6b"},"Edit Business Profile"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Something else here")))),r.a.createElement("li",{className:"nav-item dropdown navbar navbar-right"},r.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fa fa-user"})," ",this.props.auth.user.email),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement("a",{className:"dropdown-item",href:"/studentProfile/edit/"+this.props.auth.user.profile},"My Profile"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("a",{className:"dropdown-item",href:"/logout"},"Sign Out")))):i=r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)")))),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Register"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement("a",{className:"dropdown-item",href:"/signup"},"Student"),r.a.createElement("a",{className:"dropdown-item",href:"/businessSignup"},"Business"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/login"}," Login")))),r.a.createElement("div",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Spect Internships"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),a,i,n)}}]),t}(r.a.Component);function k(e){return console.log("State Auth: "+JSON.stringify(e.auth)),{auth:e.auth}}var N=Object(u.b)(k)(Object(o.g)(y)),w=(a(97),a(98),a(7)),S=a(3),O=a.n(S),C=(Object({NODE_ENV:"production",PUBLIC_URL:""}).PORT,{apiURL:"https://spect-internship.herokuapp.com/api/",stripePub:"pk_test_hZc2lACYs3t8AU3uoGafa706",listingPrice:"$20"}),x=a(23),P=a.n(x),j=a(44),L=a.n(j),A=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).state={edit:!!a.props.match.params.id&&a.props.match.params.id,markets:[],errorLoading:!1,loading:!0,title:"",description:"",requirements:"",market:"",industry:"Engineering",published:!1,compensation:"Paid",duration:"1 Month",applicationLink:"",company:"",b_name:"",b_description:""},a.loadListing(),a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"loadBusinessProfile",value:function(){var e=this;console.log(this.state.company),O.a.get(C.apiURL+"businessProfile/"+this.state.company).then((function(t){console.log(t);var a=t.data;a?(console.log(a),e.setState({loading:!1,b_name:a.name,b_description:a.description})):e.setState({loading:!1,errorLoading:!0})})).catch((function(t){console.error(t),e.setState({loading:!1,errorLoading:!0})}))}},{key:"loadMarkets",value:function(){var e=this;O.a.get(C.apiURL+"Market/").then((function(t){console.log(t),e.setState({markets:t.data,loading:!1}),e.findMarket()})).catch((function(t){console.error(t),e.setState({loading:!1,errorLoading:!0})}))}},{key:"findMarket",value:function(){var e=this,t=this.state.markets.find((function(t){return t._id===e.state.market}));this.setState({market:t.name})}},{key:"loadListing",value:function(){var e=this;O.a.get(C.apiURL+"Internship/"+this.state.edit).then((function(t){console.log(t);var a=t.data;a?(console.log(a),e.setState({loading:!1,title:a.title,description:a.description,requirements:a.requirements,industry:a.industry,market:a.market,published:a.published,compensation:a.compensation,duration:a.duration,applicationLink:a.applicationLink,company:a.company}),e.loadMarkets(),e.loadBusinessProfile()):e.setState({loading:!1,errorLoading:!0})})).catch((function(t){console.error(t),e.setState({loading:!1,errorLoading:!0})}))}},{key:"render",value:function(){return this.state.errorLoading&&!this.state.loading?r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-danger text-center"},"Uh oh!"),r.a.createElement("h5",{className:"text-danger text-center"},"There was an error loading this page. Try again.")):this.state.loading?r.a.createElement("div",{className:"container text-center"},r.a.createElement(P.a,{type:"Puff",color:"#00BFFF",height:70,width:70}),r.a.createElement("h1",{className:"text-secondary text-center"},"Loading...."),r.a.createElement("h5",{className:"text-secondary text-center"},"Just a few more seconds...")):r.a.createElement("div",null,r.a.createElement("div",Object(w.a)({className:"column"},"className","container"),r.a.createElement("h2",{className:"pt-4 pb-3"},r.a.createElement("a",{href:"/businessProfile/view/"+this.state.company,className:"text-body"},this.state.b_name)," - ",this.state.title),r.a.createElement("hr",null),r.a.createElement("div",{style:{margin:"10px"}},r.a.createElement("div",{className:"row",style:{margin:"20px"}},r.a.createElement("h5",{className:"text-left w-25"},"Description: "),r.a.createElement("div",{className:"col text-left"}," ",L()(this.state.description)," ")),r.a.createElement("hr",null),r.a.createElement("div",{className:"row",style:{margin:"20px"}},r.a.createElement("h5",{className:"text-left w-25"},"Requirements: "),r.a.createElement("div",{className:"col text-left"}," ",L()(this.state.requirements)," ")),r.a.createElement("hr",null),r.a.createElement("div",{className:"row",style:{margin:"20px"}},r.a.createElement("h5",{className:"text-left w-25"},"Industry: "),r.a.createElement("p",{className:"col text-left"},this.state.industry)),r.a.createElement("hr",null),r.a.createElement("div",{className:"row",style:{margin:"20px"}},r.a.createElement("h5",{className:"text-left w-25"},"Market: "),r.a.createElement("p",{className:"col text-left"},this.state.market)),r.a.createElement("hr",null),r.a.createElement("div",{className:"row",style:{margin:"20px"}},r.a.createElement("h5",{className:"text-left w-25"},"Compensation: "),r.a.createElement("p",{className:"col text-left"},this.state.compensation)),r.a.createElement("hr",null),r.a.createElement("div",{className:"row",style:{margin:"20px"}},r.a.createElement("h5",{className:"text-left w-25"},"Duration: "),r.a.createElement("p",{className:"col text-left"},this.state.duration)),r.a.createElement("hr",null)),r.a.createElement("div",{className:"bg-transparent text-center pt-3 pb-3"},r.a.createElement("a",{href:this.state.applicationLink,target:"_BLANK",className:"btn btn-primary"},"Apply Now!")),r.a.createElement("hr",null)),r.a.createElement("div",{className:"column container pb-5"},r.a.createElement("div",{className:"row",style:{margin:"15px"}},r.a.createElement("h5",{className:"text-left w-25"},"About ",this.state.b_name,":"),r.a.createElement("p",{className:"col text-left pr-5"},this.state.b_description),r.a.createElement("div",{className:"bg-transparent text-center"},r.a.createElement("a",{href:"/businessProfile/view/"+this.state.company,className:"btn btn-secondary"},"Learn More")))))}}]),t}(r.a.Component),I=a(6),T=a.n(I),D=a(9),R=a(77),U=(a(178),a(36)),_=a(27),F=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).tryCharge=a.tryCharge.bind(Object(U.a)(a)),a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"tryCharge",value:function(){var e=Object(D.a)(T.a.mark((function e(t){var a,n,r=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.props.stripe.createToken({name:"Name"});case 3:a=e.sent,(n=a.token)?O.a.post(C.apiURL+"payments/charge",{token:n.id}).then((function(e){r.props.paymentComplete(e.data._id),v.b.success("Successfully Charged Card")})).catch((function(e){v.b.error("Error Charging Card. Try Again.")})):v.b.error("Error Charging Card");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"checkout"},r.a.createElement("div",{className:"col-md-6 border border-primary p-4"},r.a.createElement("h4",null,"Total: ",C.listingPrice," "),r.a.createElement("p",null,"Payment required prior to publishing Internship"),r.a.createElement(_.CardElement,{style:{base:{fontSize:"16px",color:"#424770",fontFamily:"Open Sans, sans-serif",letterSpacing:"0.025em","::placeholder":{color:"#aab7c4"},border:"5px solid #000"},invalid:{color:"#c23d4b"}}}),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.tryCharge,className:"btn btn-primary"},"Submit Payment")))}}]),t}(n.Component),q=Object(_.injectStripe)(F),B=a(45),M=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).state={edit:!!a.props.match.params.id&&a.props.match.params.id,markets:[],errorLoading:!1,loading:!0,paid:!1,title:"",description:"",requirements:"",market:"",industry:"Engineering",published:!1,compensation:"Paid",duration:"1 Month",applicationLink:"",paymentID:"",skills1:"",skills2:"",skills3:""},a.loadMarkets(),a.state.edit&&(a.state.loading=!0,a.loadListing()),a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"loadMarkets",value:function(){var e=this;O.a.get(C.apiURL+"Market/").then((function(t){e.setState({markets:t.data,market:t.data[0]._id,loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,errorLoading:!0})}))}},{key:"loadListing",value:function(){var e=this;O.a.get(C.apiURL+"Internship/"+this.state.edit).then((function(t){console.log(t);var a=t.data;a?(console.log(a),e.setState({loading:!1,title:a.title,description:a.description,requirements:a.requirements,industry:a.industry,published:a.published,compensation:a.compensation,duration:a.duration,applicationLink:a.applicationLink,skills1:a.skills[0],skills2:a.skills[1],skills3:a.skills[2],redirectTo:null}),e.state.markets.length>0&&e.setState({market:a.market})):e.setState({loading:!1,errorLoading:!0})})).catch((function(t){console.error(t),e.setState({loading:!1,errorLoading:!0})}))}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;console.log("Name: "+n+" Value: "+a),this.setState(Object(w.a)({},n,a))}},{key:"handleDescriptionChange",value:function(e){this.setState({description:e})}},{key:"handleRequirementsChange",value:function(e){this.setState({requirements:e})}},{key:"paymentComplete",value:function(e){this.setState({paid:!0,paymentID:e})}},{key:"deleteListing",value:function(){var e=this;this.state.edit?Object(R.confirmAlert)({title:"Delete Internship Listing",message:"Are you sure to do this? This cannot be undone.",buttons:[{label:"Yes",onClick:function(){O.a.delete(C.apiURL+"Internship/"+e.state.edit+"/delete").then((function(t){console.log("Successfully deleted."),v.b.success("Successfully deleted internship"),e.setState({redirectTo:"/businessListings/view/"+e.auth.user.profile})})).catch((function(e){v.b.error("Error deleting internship"),console.log("Error Deleting")}))}},{label:"No",onClick:function(){}}]}):console.error("Can't delete until created.")}},{key:"processForm",value:function(){var e=Object(D.a)(T.a.mark((function e(t){var a,n=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={title:this.state.title,description:this.state.description,requirements:this.state.requirements,market:this.state.market,industry:this.state.industry,compensation:this.state.compensation,duration:this.state.duration,applicationLink:this.state.applicationLink,published:this.state.published,skills:[this.state.skills1,this.state.skills2,this.state.skills3]},this.state.edit?O.a.put(C.apiURL+"Internship/"+this.state.edit+"/update",a).then((function(e){console.log("Successfully Edited Internship in Database: "+e),v.b.success("Edited Internship")})).catch((function(e){v.b.error("Error Editing Internship"),console.error("Error Editing Internship in Database: "+e)})):(a.payment=this.state.paymentID,a.company=this.props.auth.user.profile,O.a.post(C.apiURL+"Internship/",a).then((function(e){console.log("Successfully Added Internship to Database: "+JSON.stringify(e)),n.setState({redirect:!0,edit:e.data.result._id}),v.b.success("Added Internship")})).catch((function(e){v.b.error("Error Adding Internship"),console.error("Error Adding Internship to Database: "+e)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderRedirect",value:function(){if(this.state.redirect)return r.a.createElement(o.a,{to:"/listing/edit/"+this.state.edit})}},{key:"render",value:function(){if(this.props.auth.user&&!this.props.auth.user.business)return v.b.error("Unauthorized"),r.a.createElement(o.a,{to:"/home"});if(this.state.redirectTo)return r.a.createElement(o.a,{to:this.state.redirectTo});var e,t,a=r.a.createElement("input",{type:"submit",className:this.state.published?"btn btn-success":"btn btn-secondary",value:this.state.published?this.state.edit?"Save Changes":"Publish Internship":"Save Changes"});return this.state.edit?e=r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-outline-danger",style:{margin:"5px"},onClick:this.deleteListing.bind(this)},r.a.createElement("i",{className:"fa fa-trash"})," Delete Listing"),r.a.createElement("a",{className:"btn btn-outline-secondary",style:{margin:"5px"},href:"/listing/view/"+this.state.edit,target:"_BLANK"},r.a.createElement("i",{className:"fa fa-external-link"})," View Listing")):t=r.a.createElement(_.StripeProvider,{apiKey:C.stripePub},r.a.createElement(_.Elements,null,r.a.createElement(q,{paymentComplete:this.paymentComplete.bind(this)}))),this.state.errorLoading&&!this.state.loading?r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-danger text-center"},"Uh oh!"),r.a.createElement("h5",{className:"text-danger text-center"},"There was an error loading this page. Try again.")):this.state.loading?r.a.createElement("div",{className:"container text-center"},r.a.createElement(P.a,{type:"Puff",color:"#00BFFF",height:70,width:70}),r.a.createElement("h1",{className:"text-secondary text-center"},"Loading...."),r.a.createElement("h5",{className:"text-secondary text-center"},"Just a few more seconds...")):r.a.createElement("div",{className:"container",style:{marginBottom:"25px"}},this.renderRedirect(),r.a.createElement("h1",null,this.state.edit?"Edit Internship":"Add New Internship"),e,r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:this.processForm.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Internship Title"),r.a.createElement("input",{type:"text",className:"form-control",name:"title",value:this.state.title,placeholder:"Software Engineering Intern",onChange:this.handleInputChange.bind(this),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Position Description"),r.a.createElement(B.a,{value:this.state.description,init:{height:300,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |                                     alignleft aligncenter alignright alignjustify |                                     bullist numlist outdent indent | removeformat | help"},onEditorChange:this.handleDescriptionChange.bind(this)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"requirements"},"Position Requirements"),r.a.createElement(B.a,{value:this.state.requirements,init:{height:300,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |                                     alignleft aligncenter alignright alignjustify |                                     bullist numlist outdent indent | removeformat | help"},onEditorChange:this.handleRequirementsChange.bind(this)})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"industry"},"Position Industry"),r.a.createElement("select",{className:"form-control",name:"industry",value:this.state.industry,onChange:this.handleInputChange.bind(this),required:!0},r.a.createElement("option",{disabled:!0,value:!0},"-- SELECT --"),r.a.createElement("option",null,"Engineering"),r.a.createElement("option",null,"Marketing"),r.a.createElement("option",null,"Human Resources"),r.a.createElement("option",null,"Customer Service"),r.a.createElement("option",null,"Other"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"market"},"Position Market"),r.a.createElement("select",{className:"form-control",name:"market",value:this.state.market,onChange:this.handleInputChange.bind(this),required:!0},r.a.createElement("option",{disabled:!0,value:!0},"-- SELECT --"),this.state.markets.map((function(e){return e.published?r.a.createElement("option",{value:e._id,key:e._id},e.name," "):null}))))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"compensation"},"Compensation"),r.a.createElement("select",{className:"form-control",name:"compensation",value:this.state.compensation,onChange:this.handleInputChange.bind(this),required:!0},r.a.createElement("option",{disabled:!0,value:!0},"-- SELECT --"),r.a.createElement("option",null,"Paid"),r.a.createElement("option",null,"Unpaid"),r.a.createElement("option",null,"Stipend"),r.a.createElement("option",null,"Other"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"duration"},"Duration"),r.a.createElement("select",{className:"form-control",name:"duration",value:this.state.duration,onChange:this.handleInputChange.bind(this),required:!0},r.a.createElement("option",{disabled:!0,value:!0},"-- SELECT --"),r.a.createElement("option",null,"1 Month"),r.a.createElement("option",null,"1-3 Months"),r.a.createElement("option",null,"3-6 Months"),r.a.createElement("option",null,"6-12 Months"),r.a.createElement("option",null,"12+ Months"))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"applicationLink"},"Application Link"),r.a.createElement("input",{type:"url",className:"form-control",name:"applicationLink",value:this.state.applicationLink,placeholder:"Link to Apply to Position",onChange:this.handleInputChange.bind(this),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"skills1"},"Soft Skill 1"),r.a.createElement("select",{className:"form-control",name:"skills1",value:this.state.skills1,onChange:this.handleInputChange.bind(this),required:!0},r.a.createElement("option",{disabled:!0,value:!0},"-- SELECT 1 --"),r.a.createElement("option",null,"Leadership"),r.a.createElement("option",null,"Mindfulness"),r.a.createElement("option",null,"Creativity"),r.a.createElement("option",null,"Time Management"),r.a.createElement("option",null,"Critical Thinking"),r.a.createElement("option",null,"Communication"),r.a.createElement("option",null,"Work Ethic"),r.a.createElement("option",null,"Teamwork"),r.a.createElement("option",null,"Global Awareness"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"skills2"},"Soft Skill 1"),r.a.createElement("select",{className:"form-control",name:"skills2",value:this.state.skills2,onChange:this.handleInputChange.bind(this),required:!0},r.a.createElement("option",{disabled:!0,value:!0},"-- SELECT 1 --"),r.a.createElement("option",null,"Leadership"),r.a.createElement("option",null,"Mindfulness"),r.a.createElement("option",null,"Creativity"),r.a.createElement("option",null,"Time Management"),r.a.createElement("option",null,"Critical Thinking"),r.a.createElement("option",null,"Communication"),r.a.createElement("option",null,"Work Ethic"),r.a.createElement("option",null,"Teamwork"),r.a.createElement("option",null,"Global Awareness"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"skills3"},"Soft Skill 1"),r.a.createElement("select",{className:"form-control",name:"skills3",value:this.state.skills3,onChange:this.handleInputChange.bind(this),required:!0},r.a.createElement("option",{disabled:!0,value:!0},"-- SELECT 1 --"),r.a.createElement("option",null,"Leadership"),r.a.createElement("option",null,"Mindfulness"),r.a.createElement("option",null,"Creativity"),r.a.createElement("option",null,"Time Management"),r.a.createElement("option",null,"Critical Thinking"),r.a.createElement("option",null,"Communication"),r.a.createElement("option",null,"Work Ethic"),r.a.createElement("option",null,"Teamwork"),r.a.createElement("option",null,"Global Awareness"))),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"published",checked:this.state.published,value:this.state.published,onChange:this.handleInputChange.bind(this)}),r.a.createElement("label",{className:"form-check-label",htmlFor:"published"},"Publish Internship")),r.a.createElement("hr",null),this.state.paid?r.a.createElement("div",null,r.a.createElement("h5",{className:"text-success"},r.a.createElement("i",{className:"fa fa-check"})," Payment Complete"),r.a.createElement("p",null,"Do not leave this page until you save changes.")):t,!this.state.edit&&this.state.paymentID?a:"",this.state.edit?a:""))}}]),t}(r.a.Component);var G=Object(u.b)((function(e){return console.log("State Auth 2: "+JSON.stringify(e.auth)),{auth:e.auth}}))(M),J=(a(184),a(185),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).state={edit:!!a.props.match.params.id&&a.props.match.params.id,errorLoading:!1,loading:!0,name:"",address:"",email:"",description:"",skills1:"",skills2:"",skills3:""},a.alert="",a.state.edit?(a.state.loading=!0,a.loadStudentProfile()):a.state.loading=!1,a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"loadStudentProfile",value:function(){var e=this;O.a.get(C.apiURL+"studentProfile/"+this.state.edit).then((function(t){console.log(t);var a=t.data;a?(console.log(a),e.setState({loading:!1,name:a.name,address:a.address,email:a.email,description:a.description,skills1:a.skills1,skills2:a.skills2,skills3:a.skills3})):e.setState({loading:!1,errorLoading:!0})})).catch((function(t){console.error(t),e.setState({loading:!1,errorLoading:!0})}))}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;console.log("Name: "+n+" Value: "+a),this.setState(Object(w.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={name:this.state.name,address:this.state.address,email:this.state.email,useraccount:this.state.useraccount,description:this.state.description,skills1:this.state.skills1,skills2:this.state.skills2,skills3:this.state.skills3};console.log(a),this.state.edit?O.a.put(C.apiURL+"studentProfile/"+this.state.edit,a).then((function(e){console.log("Successfully Edited Student Profile in Database: "+e),v.b.success("Successfully Updated Profile")})).catch((function(e){console.error("Error Updating Student Profile in Database: "+e),v.b.error("Error Updating Profile")})):O.a.post(C.apiURL+"studentProfile/",a).then((function(e){console.log("Successfully Added Student Profile to Database: "+JSON.stringify(e)),t.linkProfile(e.data.result._id)})).catch((function(e){console.error("Error Adding Student Profile to Database: "+e),v.b.error("Error Adding Profile")}))}},{key:"linkProfile",value:function(e){console.log("Working on it..."),O.a.put(C.apiURL+"users/",{_id:this.props.auth.user._id,profile:e}).then((function(e){console.log("Successfully Edited User Profile in Database: "+e),v.b.success("Successfully Added Profile")})).catch((function(e){console.error("Error Editing User Profile in Database: "+e),v.b.error("Error Adding Profile")}))}},{key:"render",value:function(){return this.state.errorLoading&&!this.state.loading?r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-danger text-center"},"Uh oh!"),r.a.createElement("h5",{className:"text-danger text-center"},"There was an error loading this page. Try again.")):this.state.loading?r.a.createElement("div",{className:"container text-center"},r.a.createElement(P.a,{type:"Puff",color:"#00BFFF",height:70,width:70}),r.a.createElement("h1",{className:"text-secondary text-center"},"Loading...."),r.a.createElement("h5",{className:"text-secondary text-center"},"Just a few more seconds...")):r.a.createElement("div",{className:"container",style:{marginBottom:"25px"}},r.a.createElement("h1",null,this.state.edit?"Edit Student Profile":"Create Student Profile"),r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:this.state.name,placeholder:"John Doe",onChange:this.handleInputChange.bind(this),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"text",className:"form-control",name:"email",value:this.state.email,placeholder:"alberta@ufl.edu",onChange:this.handleInputChange.bind(this),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Interests"),r.a.createElement("textarea",{type:"textarea",rows:"5",className:"form-control",name:"description",value:this.state.description,placeholder:"Summary of your experiences and interests (ex. web development)",onChange:this.handleInputChange.bind(this),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"skills"},"Top 3 Soft Skills - Please take this  ",r.a.createElement("a",{href:"https://www.surveymonkey.com/r/spectSelfAssessment"}," survey "),"FIRST to better determine your three strongest skills"),r.a.createElement("select",{className:"form-control",name:"skills1",value:this.state.skills1,onChange:this.handleInputChange.bind(this),required:!0},r.a.createElement("option",{disabled:!0,value:!0},"-- SELECT --"),r.a.createElement("option",null,"Leadership"),r.a.createElement("option",null,"Minedfulness"),r.a.createElement("option",null,"Creativity"),r.a.createElement("option",null,"Time Management"),r.a.createElement("option",null,"Critical Thinking"),r.a.createElement("option",null,"Communication"),r.a.createElement("option",null,"Work Ethic"),r.a.createElement("option",null,"Teamwork"),r.a.createElement("option",null,"Global Awareness")),r.a.createElement("br",null),r.a.createElement("select",{className:"form-control",name:"skills2",value:this.state.skills2,onChange:this.handleInputChange.bind(this),required:!0},r.a.createElement("option",{disabled:!0,value:!0},"-- SELECT --"),r.a.createElement("option",null,"Leadership"),r.a.createElement("option",null,"Minedfulness"),r.a.createElement("option",null,"Creativity"),r.a.createElement("option",null,"Time Management"),r.a.createElement("option",null,"Critical Thinking"),r.a.createElement("option",null,"Communication"),r.a.createElement("option",null,"Work Ethic"),r.a.createElement("option",null,"Teamwork"),r.a.createElement("option",null,"Global Awareness")),r.a.createElement("br",null),r.a.createElement("select",{className:"form-control",name:"skills3",value:this.state.skills3,onChange:this.handleInputChange.bind(this),required:!0},r.a.createElement("option",{disabled:!0,value:!0},"-- SELECT --"),r.a.createElement("option",null,"Leadership"),r.a.createElement("option",null,"Minedfulness"),r.a.createElement("option",null,"Creativity"),r.a.createElement("option",null,"Time Management"),r.a.createElement("option",null,"Critical Thinking"),r.a.createElement("option",null,"Communication"),r.a.createElement("option",null,"Work Ethic"),r.a.createElement("option",null,"Teamwork"),r.a.createElement("option",null,"Global Awareness"))),r.a.createElement("button",{type:"submit",className:"btn btn-primary"}," Submit Changes ")))}}]),t}(r.a.Component));var W=Object(u.b)((function(e){return{auth:e.auth}}))(J),H=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).state={edit:!!a.props.match.params.id&&a.props.match.params.id,errorLoading:!1,loading:!0,name:"",address:"",description:"",website:"",email:"",redirectToEdit:!1},a.state.edit?(a.state.loading=!0,a.loadBusinessProfile()):a.state.loading=!1,a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"loadBusinessProfile",value:function(){var e=this;O.a.get(C.apiURL+"businessProfile/"+this.state.edit).then((function(t){console.log(t);var a=t.data;a?(console.log(a),e.setState({loading:!1,name:a.name,address:a.address,description:a.description,website:a.website,email:a.email})):e.setState({loading:!1,errorLoading:!0})})).catch((function(t){console.error(t),e.setState({loading:!1,errorLoading:!0})}))}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;console.log("Name: "+n+" Value: "+a),this.setState(Object(w.a)({},n,a))}},{key:"handleSubmit",value:function(){var e=Object(D.a)(T.a.mark((function e(t){var a,n=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={name:this.state.name,address:this.state.address,description:this.state.description,website:this.state.website,email:this.state.email,useraccount:this.state.useraccount},console.log(a),!this.state.edit){e.next=7;break}O.a.put(C.apiURL+"businessProfile/"+this.state.edit,a).then((function(e){console.log("Successfully Edited Business Profile in Database: "+e),v.b.success("Successfully Edited Profile")})).catch((function(e){console.error("Error Editing Business Profile in Database: "+e),v.b.error("Error Editing Profile")})),e.next=10;break;case 7:return null,e.next=10,O.a.post(C.apiURL+"businessProfile/",a).then((function(e){console.log("Successfully Added Business Profile to Database: "+JSON.stringify(e)),v.b.success("Successfully Added Profile"),n.linkProfile(e.data.result._id),n.setState({redirectToEdit:!0})})).catch((function(e){console.error("Error Adding Business Profile to Database: "+JSON.stringify(e)),v.b.error("Error Adding Profile")}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkProfile",value:function(e){console.log("Working on it..."),O.a.put(C.apiURL+"users/",{_id:this.props.auth.user._id,profile:e}).then((function(e){console.log("Successfully Edited User Profile in Database: "+e),v.b.success("Successfully Added Profile")})).catch((function(e){console.error("Error Editing User Profile in Database: "+e),v.b.error("Error Adding Profile")}))}},{key:"render",value:function(){return this.state.auth&&(console.log("Auth"),!this.state.edit&&this.auth.user.profile&&this.setState({redirectToEdit:!0})),console.log("Render"),this.state.redirectToEdit?r.a.createElement(o.a,{to:"/businessProfile/edit/"+this.props.auth.user.profile}):this.state.errorLoading&&!this.state.loading?r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-danger text-center"},"Uh oh!"),r.a.createElement("h5",{className:"text-danger text-center"},"There was an error loading this page. Try again.")):this.state.loading?r.a.createElement("div",{className:"container text-center"},r.a.createElement(P.a,{type:"Puff",color:"#00BFFF",height:70,width:70}),r.a.createElement("h1",{className:"text-secondary text-center"},"Loading...."),r.a.createElement("h5",{className:"text-secondary text-center"},"Just a few more seconds...")):r.a.createElement("div",{className:"container",style:{marginBottom:"25px"}},r.a.createElement("h1",null,this.state.edit?"Edit Business Profile":"Create Business Profile"),r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Business Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:this.state.name,placeholder:"Ex. Google Inc.",onChange:this.handleInputChange.bind(this),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"address"},"Business Address"),r.a.createElement("input",{type:"text",className:"form-control",name:"address",value:this.state.address,placeholder:"Your business location",onChange:this.handleInputChange.bind(this),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Business Description"),r.a.createElement("textarea",{type:"textarea",rows:"5",className:"form-control",name:"description",value:this.state.description,placeholder:"A summary of your business, for people to see!",onChange:this.handleInputChange.bind(this),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"website"},"Business Website"),r.a.createElement("input",{type:"text",className:"form-control",name:"website",value:this.state.website,placeholder:"(Optional) A link to your Website",onChange:this.handleInputChange.bind(this)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Contact E-mail"),r.a.createElement("input",{type:"text",className:"form-control",name:"email",value:this.state.email,placeholder:"(Optional) An E-mail for your client's inquiries",onChange:this.handleInputChange.bind(this)})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"}," ","Submit Changes"," ")))}}]),t}(r.a.Component);var V=Object(u.b)((function(e){return{auth:e.auth}}))(Object(o.g)(H)),Y=a(26),K=a(78),z=a.n(K),$=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4500;return function(n){var r=z.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:r})}),a)}},Z=function(e){e?O.a.defaults.headers.common["x-auth-token"]=e:delete O.a.defaults.headers.common["x-auth-token"]},Q=function(){return function(){var e=Object(D.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&Z(localStorage.token),e.prev=1,e.next=4,O.a.get("http://localhost:5008/api/auth");case 4:a=e.sent,console.log("user load!!!!!"),console.log(a.data),t({type:"USER_LOADED",payload:a.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()};a(40);function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ee=Object(u.b)((function(e){return{auth:e.auth,isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var a=Object(D.a)(T.a.mark((function a(n){var r,i,s,l;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},i=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,O.a.post("http://localhost:5008/api/auth",i,r);case 5:s=a.sent,n({type:"LOGIN_SUCCESS",payload:s.data}),console.log("user login!!!!!"),console.log(s.data),n(Q()),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(2),a.t0.response&&(l=a.t0.response.data.errors)&&l.forEach((function(e){return n($(e.msg,"danger"))})),n({type:"LOGIN_FAIL"});case 16:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.isAuthenticated,i=(e.auth,Object(n.useState)({email:"",password:""})),s=Object(Y.a)(i,2),c=s[0],m=s[1],u=c.email,d=c.password,p=function(e){return m(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},c,Object(w.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(D.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t(u,d);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?(v.b.success("Logged in"),r.a.createElement(o.a,{to:"/Home"})):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"login-section"},r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{className:"login-form",onSubmit:function(e){return h(e)}},r.a.createElement("input",{type:"email",placeholder:"Email Address",name:"email",value:u,onChange:function(e){return p(e)},required:!0}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",minLength:"6",value:d,onChange:function(e){return p(e)},required:!0}),r.a.createElement("button",{className:"btn btn-primary uppercase"},"LOG IN")),r.a.createElement("p",{className:"message"},"Don't have an account? ",r.a.createElement(l.b,{to:"/signup"},"Create Account "))))))}));function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ae=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:$,signup:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(D.a)(T.a.mark((function e(r){var i,s,l,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={headers:{"Content-Type":"application/json"}},!1,s=JSON.stringify({name:t,email:a,password:n,business:!1}),e.prev=3,e.next=6,O.a.post("http://localhost:5008/api/users",s,i);case 6:l=e.sent,r({type:"REGISTER_SUCCESS",payload:l.data}),r(Q()),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("Error Signing Up: "+e.t0),(o=e.t0.response.data.errors)&&o.forEach((function(e){return r($(e.msg,"danger"))})),r({type:"REGISTER_FAIL"});case 17:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.setAlert,a=e.signup,i=e.isAuthenticated,s=Object(n.useState)({name:"",email:"",password:"",passwordConfirm:""}),c=Object(Y.a)(s,2),m=c[0],u=c[1],d=m.name,p=m.email,h=m.password,g=m.passwordConfirm,f=function(e){return u(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},m,Object(w.a)({},e.target.name,e.target.value)))},E=function(){var e=Object(D.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),h!==g?t("Passwords do not match","danger"):a({name:d,email:p,password:h});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i?r.a.createElement(o.a,{to:"/studentProfile/add"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"login-section"},r.a.createElement("div",{style:{textAlign:"center",color:"white",paddingTop:"30px"}},r.a.createElement("h1",null,"Register as a Students"),r.a.createElement("h5",{style:{textAlign:"center"},textAlign:"center"},"Register now to find Internships for you.")),r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(e){return E(e)}},r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",value:d,onChange:function(e){return f(e)},required:!0}),r.a.createElement("input",{type:"email",placeholder:"Email Address",name:"email",value:p,onChange:function(e){return f(e)},required:!0}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",minLength:"6",value:h,onChange:function(e){return f(e)},required:!0}),r.a.createElement("input",{type:"password",placeholder:"Confirm Password",name:"passwordConfirm",minLength:"6",value:g,onChange:function(e){return f(e)},required:!0}),r.a.createElement("button",{className:"btn"},"Register"),r.a.createElement("p",{className:"message"},"Registered already? ",r.a.createElement(l.b,{to:"/login"}," Login")))))))})),ne=Object(u.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return t&&t.map((function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType)},e.msg)}))}));function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ie=Object(u.b)((function(e){return{isBusinessAuthenticated:e.auth.isBusinessAuthenticated}}),{setAlert:$,businessSignup:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(D.a)(T.a.mark((function e(r){var i,s,l,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={headers:{"Content-Type":"application/json"}},!0,s=JSON.stringify({name:t,email:a,password:n,business:!0}),e.prev=3,e.next=6,O.a.post("http://localhost:5008/api/users",s,i);case 6:l=e.sent,r({type:"BUSINESS_REGISTER_SUCCESS",payload:l.data}),r(Q()),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),(o=e.t0.response.data.errors)&&o.forEach((function(e){return r($(e.msg,"danger"))})),r({type:"REGISTER_FAIL"});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.setAlert,a=e.businessSignup,i=e.isBusinessAuthenticated,s=Object(n.useState)({name:"",email:"",password:"",passwordConfirm:""}),c=Object(Y.a)(s,2),m=c[0],u=c[1],d=m.name,p=m.email,h=m.password,g=m.passwordConfirm,f=function(e){return u(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},m,Object(w.a)({},e.target.name,e.target.value)))},E=function(){var e=Object(D.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),h!==g?t("Passwords do not match","danger"):a({name:d,email:p,password:h});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i?r.a.createElement(o.a,{to:"/businessProfile/add"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"login-section"},r.a.createElement("div",{style:{textAlign:"center",color:"white",paddingTop:"30px"}},r.a.createElement("h1",null,"Register your Company"),r.a.createElement("h5",{style:{textAlign:"center"},textAlign:"center"},"Register now to post Internships for interested Students")),r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(e){return E(e)}},r.a.createElement("input",{type:"text",placeholder:" Your Name",name:"name",value:d,onChange:function(e){return f(e)},required:!0}),r.a.createElement("input",{type:"email",placeholder:" Business Email Address",name:"email",value:p,onChange:function(e){return f(e)},required:!0}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",minLength:"6",value:h,onChange:function(e){return f(e)},required:!0}),r.a.createElement("input",{type:"password",placeholder:"Confirm Password",name:"passwordConfirm",minLength:"6",value:g,onChange:function(e){return f(e)},required:!0}),r.a.createElement("button",{className:"btn"},"Register"),r.a.createElement("p",{className:"message"},"Registered already? ",r.a.createElement(l.b,{to:"/login"}," Login")))))))})),se=a(22),le=a(79),oe=a(80),ce=a(82),me=[];function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pe={token:localStorage.getItem("token"),isAuthenticated:null,isBusinessAuthenticated:null,loading:!0,user:null},he=Object(se.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(ce.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return de({},e,{isAuthenticated:!0,loading:!1,user:n});case"BUSINESS_LOADED":return de({},e,{isBusinessAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),de({},e,{},n,{isAuthenticated:!0,isBusinessAuthenticated:!1,loading:!1});case"BUSINESS_REGISTER_SUCCESS":case"BUSINESS_LOGIN_SUCCESS":return localStorage.setItem("token",n.token),de({},e,{},n,{isBusinessAuthenticated:!0,isAuthenticated:!1,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),de({},e,{token:null,isAuthenticated:!1,isBusinessAuthenticated:!1,loading:!1});default:return e}}}),ge=[oe.a],fe=Object(se.createStore)(he,{},Object(le.composeWithDevTools)(se.applyMiddleware.apply(void 0,ge))),Ee=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).state={view:!!a.props.match.params.id&&a.props.match.params.id,data:a.props,errorLoading:!1,loading:!0,listings:[],name:""},a.loadBusinessInternships(),a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"loadBusinessInternships",value:function(){var e=this;O.a.get(C.apiURL+"businessProfile/"+this.state.view+"/listings").then((function(t){console.log(t);var a=t.data;a?(console.log(a),e.setState({loading:!1,listings:a})):e.setState({loading:!1,errorLoading:!0})})).catch((function(t){console.error(t),e.setState({loading:!1,errorLoading:!0})}))}},{key:"render",value:function(){return this.state.loading?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{class:"jumbotron text-center"},r.a.createElement("h1",null,"View Current Internship Listings")),r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Click to Edit Internship"),this.state.listings.map((function(e,t){return r.a.createElement("div",{class:"card"},r.a.createElement("a",{href:"/listing/edit/"+e._id},e.title))}))))))}}]),t}(r.a.Component),be=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).state={data:a.props,markets:[],errorLoading:!1,loading:!0,listings:[]},a.loadListing(),a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"loadListing",value:function(){var e=this;O.a.get(C.apiURL+"Internship/").then((function(t){console.log(t);var a=t.data;a?(console.log(a),e.setState({loading:!1,listings:a})):e.setState({loading:!1,errorLoading:!0})})).catch((function(t){console.error(t),e.setState({loading:!1,errorLoading:!0})}))}},{key:"render",value:function(){return this.state.loading?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",null,r.a.createElement("ul",null,this.state.listings.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("a",{href:"/listing/view/"+e._id},e.title))}))))}}]),t}(r.a.Component),ve=a(81),ye=Object(u.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,i=a.loading,s=Object(ve.a)(e,["component","auth"]);return console.log(n+" private"),r.a.createElement(o.b,Object.assign({},s,{render:function(e){return n||i?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))}));var ke=Object(u.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:"LOGOUT"}),v.b.info("Logged Out")}}})((function(e){return(0,e.logout)(),r.a.createElement(o.a,{to:"/logout/success"})})),Ne=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"login-section"},r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("h1",null,"Successfully Logged Out"),r.a.createElement("h5",null,"We're sad to see you go."),r.a.createElement("a",{href:"/login",className:"btn btn-primary"},"Login")," ","   ",r.a.createElement("a",{href:"/home",className:"btn btn-secondary"},"Home")))))};localStorage.token&&Z(localStorage.token);var we=function(){return Object(n.useEffect)((function(){fe.dispatch(Q())}),[]),r.a.createElement(u.a,{store:fe},r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(ne,null),r.a.createElement(o.d,{style:{paddingTop:"10px"}},r.a.createElement(o.b,{exact:!0,path:"/Home",component:d}),r.a.createElement(o.b,{exact:!0,path:"/"},r.a.createElement(o.a,{to:"/Home"})),r.a.createElement(o.b,{exact:!0,path:"/signup",component:ae}),r.a.createElement(o.b,{exact:!0,path:"/logout",component:ke}),r.a.createElement(o.b,{exact:!0,path:"/logout/success",component:Ne}),r.a.createElement(o.b,{exact:!0,path:"/login",component:ee}),r.a.createElement(o.b,{exact:!0,path:"/businessSignup",component:ie}),r.a.createElement(ye,{exact:!0,path:"/listing/add",component:G}),r.a.createElement(ye,{exact:!0,path:"/listing/edit/:id",component:G}),r.a.createElement(ye,{exact:!0,path:"/businessProfile/add",component:V}),r.a.createElement(ye,{exact:!0,path:"/businessProfile/edit/:id",component:V}),r.a.createElement(ye,{exact:!0,path:"/studentProfile/add",component:W}),r.a.createElement(ye,{exact:!0,path:"/studentProfile/edit/:id",component:W}),r.a.createElement(o.b,{exact:!0,path:"/listing/view/:id",component:A}),r.a.createElement(o.b,{exact:!0,path:"/listing",component:be}),r.a.createElement(o.b,{exact:!0,path:"/businessListings/view/:id",component:Ee}),r.a.createElement(o.b,{component:p})),r.a.createElement(v.a,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))))};s.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},40:function(e,t,a){},72:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},83:function(e,t,a){e.exports=a(188)},88:function(e,t,a){},93:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.ecc719d1.chunk.js.map